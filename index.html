<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
<script src="
https://cdn.jsdelivr.net/npm/landaxs@1.0.0/dist/index.min.js
"></script><style>
    .form-control {
        display: flex;
        flex-direction: column;
        width: min-content;
    }
</style>
</head>
<body>

<div x_ref="msg"></div>

<form>
<div class="form-control">
    <label>Username</label>
    <input x_ref="input_username" type="text" x_input="username">
</div>

<div class="form-control">
    <label>Email</label>
    <input type="email" x_input="email">
</div>
<div>
    <label>Gender</label>
    <label>
        <input type="radio" x_input="gender" value="male"/>
        Male
    </label>
    <label>
        <input type="radio" x_input="gender" value="female"/>
        Female
    </label>
</div>
<div>
    
  <label>Role</label>

  <label>
    <input type="checkbox" x_input="role" value="admin">
    Admin
  </label>
  <label>
    <input type="checkbox" x_input="role" value="sales">
    Sales
  </label>
  <label>
    <input type="checkbox" x_input="role" value="employee">
    Employee
  </label>
</div>
<button type="button" onclick="form_login.method.send(this)">Save</button>
<button type="button" onclick="form_login.method.clear()">clear</button>

</form>
<div x_ref="data"></div>

<div x_ref="send_msg"></div>

<script>


    let form_login = new Landaxs()
    
    .defineInput({
        username : "",
        email: "",
        gender : "male",
        role : []
    })
    
    .triggerInput(["username","email","gender","role"],(data)=>{
        form_login.ref.data.textContent = JSON.stringify(data) 
        form_login.method.validate()
    })

    .setRef(["data","msg","send_msg","input_username"])

    .methods({
        send : (e)=>{
            if(form_login.method.validate()){
                form_login.ref.send_msg.innerHTML = `<h4>Result</h4>${JSON.stringify(form_login.input)}`
                form_login.method.clear()
            }
        },
        validate : ()=>{
            if(form_login.input.username.length < 4){
                form_login.ref.msg.textContent = "Length Username Must > 3"
                form_login.ref.msg.style.color = "red"
            }else if(!form_login.input.email.includes("@")){
                form_login.ref.msg.textContent = "Input Must an Email"
                form_login.ref.msg.style.color = "red"
            }else{
                form_login.ref.msg.textContent = "nice"
                form_login.ref.msg.style.color = "green"
                return true
            }
        },
        clear : ()=>{
            form_login.input.username = ""
            form_login.input.email = ""
            form_login.input.gender = ""
            form_login.input.role = []
            form_login.ref.input_username.focus()
        }
    })

    form_login.ref.data.textContent = JSON.stringify(form_login.input)


</script>
</body>
</html>